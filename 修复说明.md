# 等待批改进度显示修复说明

## 问题描述
用户反馈在等待批改的加载页面中，等待批改的量不显示或显示异常（如显示"共0题"）。

## 修复内容

### 1. 修改了 `assets/js/main.js` 中的 `updateQuestionProgress()` 函数

**修复前：**
- 无论何时都显示题目数量
- 识别开始时显示"共0题"，用户体验差

**修复后：**
- 当题目数量为0时，自动隐藏数量显示区域
- 只显示详情信息："正在上传图片到AI识别服务..."
- 识别完成后，自动显示真实题目数量："共X题"

### 2. 修改了 `assets/js/recognizer.js` 中的调用

保持原有的调用方式 `updateQuestionProgress(0, 0, '详情信息')`，由前端函数智能处理显示逻辑。

## 修复效果

### 识别开始阶段
- ✅ 显示：正在批改第 [隐藏] 题，共 [隐藏] 题
- ✅ 详情：正在上传图片到AI识别服务...

### 识别进行中
- ✅ 详情：正在分析图片内容...
- ✅ 详情：正在提取数学题目...

### 识别完成阶段
- ✅ 显示：正在批改第 1 题，共 5 题
- ✅ 详情：所有题目识别完成

## 技术实现

使用 `visibility` 属性控制元素显示：
```javascript
// 隐藏数量显示
if (progressTextElement) {
    progressTextElement.style.visibility = 'hidden';
}

// 显示数量并更新
if (progressTextElement) {
    progressTextElement.style.visibility = 'visible';
}
```

## 提交信息

- **GitHub**: https://github.com/bobhoCN/TeacherSlave/commit/440640c
- **Gitee**: https://gitee.com/bob-ho/teacher-slave-math/commit/440640c

## 测试方法

1. 启动系统：`./start.sh` 或 `node server.js`
2. 打开浏览器访问：http://localhost:3007/index.html
3. 点击"拍照"或"上传图片"
4. 上传一张数学作业图片
5. 观察批改进度页面的显示效果

## 注意事项

- 修复不影响原有功能
- 仅优化用户等待时的视觉体验
- 向下兼容，不影响现有的主题色和样式
